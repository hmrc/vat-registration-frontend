@import forms.vatDetails.CompanyBankAccountDetailsForm
@(bankDetailsForm: Form[CompanyBankAccountDetailsForm])(implicit request: Request[_], messages: Messages)
@import uk.gov.hmrc.play.views.html.{helpers => govHelpers}

@main_template(title = messages("pages.bankDetails.title")) {

    <div class="grid-row">
        <div class="column-two-thirds">

            <h1 class="form-title heading-xlarge" id="pageHeading">@messages("pages.bankDetails.heading")</h1>

            <p>@messages("pages.bankDetails.para1")</p>

            <div class="notice form-group">
                <i class="icon icon-important">
                    <span class="visuallyhidden">Warning</span>
                </i>
                <strong class="bold-small">@messages("pages.bankDetails.info")</strong>
            </div>

            @govHelpers.form(action = controllers.userJourney.routes.CompanyBankAccountDetailsController.submit()) {
                <div class="form-group">
                        <div class="form-bank-details">

                            <span class="form-hint"></span>
                            @govHelpers.input(
                                bankDetailsForm("accountName"),
                                '_divClass -> "form-group",
                                '_inputClass -> "form-control",
                                '_labelClass -> "cascading",
                                '_maxlength -> 150,
                                '_inputHint -> messages("pages.bankDetails.accountName.hint"),
                                '_label -> messages("pages.bankDetails.accountName.label"),
                                '_required -> true
                            )

                            @govHelpers.input(
                                bankDetailsForm("accountNumber"),
                                '_divClass -> "form-group",
                                '_inputClass -> "form-control",
                                '_labelClass -> "cascading",
                                '_pattern -> "[0-9]{8}",
                                '_maxlength -> 8,
                                '_label -> messages("pages.bankDetails.accountNumber.label"),
                                '_required -> true
                            )

                            <div class="form-date">


                                <fieldset id="sort-code">

                                    <legend id="sort-code-legend">@messages("pages.bankDetails.sortCode.label")</legend>

                                    @bankDetailsForm("sortCode").errors.map { error =>
                                        <span class="error-notification form-field--error" role="tooltip">
                                            @messages(error.message, error.args: _*)
                                    }

                                    @govHelpers.input(
                                        bankDetailsForm("sortCode.part1"),
                                        'type -> "text",
                                        '_pattern -> "[0-9]{2}",
                                        '_divClass -> "form-group",
                                        '_inputClass -> "form-control",
                                        '_label -> "first two digits",
                                        '_labelTextClass -> "hidden",
                                        '_error_id -> "sort-code-legend",
                                        '_required -> true
                                    )

                                    @govHelpers.input(
                                        bankDetailsForm("sortCode.part2"),
                                        'type -> "text",
                                        '_pattern -> "[0-9]{2}",
                                        '_divClass -> "form-group",
                                        '_inputClass -> "form-control",
                                        '_label -> "second two digits",
                                        '_labelTextClass -> "hidden",
                                        '_error_id -> "sort-code-legend",
                                        '_required -> true
                                    )

                                    @govHelpers.input(
                                        bankDetailsForm("sortCode.part3"),
                                        'type -> "text",
                                        '_pattern -> "[0-9]{2}",
                                        '_divClass -> "form-group",
                                        '_inputClass -> "form-control",
                                        '_label -> "last two digits",
                                        '_labelTextClass -> "hidden",
                                        '_error_id -> "sort-code-legend",
                                        '_required -> true
                                    )

                                    @bankDetailsForm("sortCode").errors.map { error =>
                                        </span>
                                    }

                                    </fieldset>
                            </div>
                        </div>
                </div>

                <div class="form-group">
                    <button class="btn button" type="submit" id="save-and-continue">Save and continue</button>
                </div>
            }

        </div>
    </div>
}