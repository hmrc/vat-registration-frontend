@*
* Copyright 2020 HM Revenue & Customs
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*@
@import play.api.data.Form
@import play.api.mvc.Request
@import play.api.i18n.Messages
@import uk.gov.hmrc.play.views.html.{helpers => govHelpers}
@import views.html.main_template
@import views.html.helpers.templates._

@import config.FrontendAppConfig

@import models.ContactPreference
@(contactPreferenceForm: Form[ContactPreference], postAction: Call)(implicit request: Request[_], messages: Messages, appConfig: FrontendAppConfig)

@fieldSetClasses = @{
    if(contactPreferenceForm.hasErrors && (contactPreferenceForm.errors.exists(_.args.nonEmpty))) "form-field--error" else ""
}

@main_template(title = messages("pages.contactPreference.title")) {

    @errorSummary(
        Messages("app.common.errorSummaryLabel"),
        contactPreferenceForm,
        Seq("contactPreference")
    )

    <h1 class="form-title heading-large" id="pageHeading">@messages("pages.contactPreference.heading")</h1>
    <p id="paragraph">@messages("pages.contactPreference.text1")</p>

    <p id="paragraph2">@messages("pages.contactPreference.text2")</p>

    @govHelpers.form(action = controllers.routes.ContactPreferenceController.submitContactPreference()) {
        <div class="form-group">
        @vatInputRadioGroup(
            field = contactPreferenceForm("contactPreferenceRadio"),
            Seq(
                "email" -> Messages("pages.contactPreference.email"),
                "letter" -> Messages("pages.contactPreference.letter")
            ),
            '_groupClass -> "inline",
            '_labelAfter -> true,
            '_labelClass -> "block-label",
            '_legend -> messages("pages.contactPreference.heading"),
            '_legendClass -> "visually-hidden"
        )

        </div>

        <div class="form-group">
            <button class="btn button" type="submit" id="continue">@messages("app.common.continue")</button>
        </div>
    }
}
